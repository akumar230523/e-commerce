import{a as x,j as s,L as j,b as f,y as p,r as c}from"./index-D6cHnc1d.js";import{u as g}from"./useFetch-CC2Kxrld.js";const N=({product:t})=>{const r=x(),a=()=>{r(f(t)),p.info(`${t.title} added to cart!`)};return s.jsxs("article",{className:"product-item",children:[s.jsxs("h4",{children:[" ",t.title," "]}),s.jsxs(j,{to:`/product-detail/${t.id}`,children:[" ",s.jsx("img",{src:t.thumbnail,alt:t.title})," "]}),s.jsxs("div",{className:"pr",children:[s.jsxs("p",{children:[" Price: $",t.price," "]}),s.jsxs("p",{children:[" ",t.rating," ",s.jsx("i",{className:"fa-solid fa-star",style:{color:"#FFD43B"}})," "]})]}),s.jsxs("button",{className:"add-button",onClick:a,children:[" ",s.jsx("i",{className:"fa-solid fa-cart-shopping fa-sm"})," Add to Cart "]})]})},P=()=>{const{products:t,loading:r,error:a}=g("https://dummyjson.com/products"),[l,n]=c.useState(""),[i,d]=c.useState("all"),h=c.useMemo(()=>["all",...new Set(t.flatMap(e=>e?.category))],[t]),o=t.filter(e=>{const m=e.title.toLowerCase().includes(l.toLowerCase()),u=i==="all"||e.category.includes(i);return m&&u});return r?s.jsxs("div",{className:"loading",children:[s.jsx("i",{className:"fa-solid fa-spinner fa-spin-pulse"}),s.jsx("p",{children:" Loading "})]}):a?s.jsxs("div",{className:"error",children:[s.jsxs("b",{children:[" Error ",s.jsx("i",{className:"fa-solid fa-circle-exclamation fa-fade",style:{color:"#fa3232"}})," "]}),s.jsxs("p",{children:[" ",a," "]})]}):t?s.jsxs("section",{className:"product-list",children:[s.jsx("h2",{children:" Products "}),s.jsx("input",{type:"text",placeholder:"Search Product.. .",value:l,onChange:e=>n(e.target.value)}),s.jsx("div",{className:"category",children:h.map(e=>s.jsx("button",{className:i===e?"active":"",onClick:()=>d(e),children:e},e))}),s.jsx("div",{className:"product-items",children:o.length===0?s.jsxs("p",{children:[" ",s.jsx("i",{children:" Products not found! "})," "]}):o.map(e=>s.jsx(N,{product:e},e.id))})]}):s.jsx("p",{children:" Product not found. "})};export{P as default};
